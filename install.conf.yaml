- defaults:
    link:
      relink: true
      create: true

- clean: ['~']

- link:
    ~/.editorconfig: editorconfig.ini
    ~/.gitconfig: git/gitconfig
    ~/.vimrc: vim/vimrc.vim
    ~/.config/nvim/init.vim: nvim/init.vim
    ~/.config/starship.toml: starship/starship.toml
    ~/.zshrc: zsh/zshrc.zsh

- create:
    - ~/.config/nvim

- shell:
    - description: Creating local config files
      command: |
        # Create machine-specific override files (not tracked in dotfiles)
        touch ~/.config/nvim/local.vim  # Neovim-specific local settings
        touch ~/.vimrc.local            # Vim local settings
        touch ~/.zshrc.local            # Zsh local settings (aliases, paths, etc)
        touch ~/.gitconfig.local        # Git local settings (proxy, credentials, etc)
        touch ~/.gitconfig.user         # Git user identity (generated by setup-git-user.sh)
      stdout: true
      stderr: true
    - description: Installing tools
      command: ./scripts/install-tools.sh
      stdout: true
      stderr: true
    - description: Setting up ZSH
      command: ./scripts/install-zsh.sh
      stdout: true
      stderr: true
    - description: Setting up Git user
      command: ./scripts/setup-git-user.sh
      stdin: true
      stdout: true
      stderr: true
